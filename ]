import { getFileContents } from "../helpers";
import { Stack } from "./stack";

const input = getFileContents("./input2.txt");

function stackStringToArray(stackData: string): Array<Array<string>> {
    return stackData
        .split("\n")
        .map((line) => line.split("").filter((a, index) => index % 4 === 1));
}

function populateStacks(stackDataArray: Array<Array<string>>, stackArray: Array<any>): void {
    for (let y = 0; y < stackDataArray.length - 1; y++) {
        for (let x = 0; x < stackDataArray[y].length; x++) {
            const data = stackDataArray[y][x];
            if (data !== " ") {
                stackArray[x].push(data);
            }
        }
    }
}

function stackFactory(stackData: string) {
    const stackDataArray = stackStringToArray(stackData);
    const stackArray = [];
    for (let i = 0; i < stackDataArray[0].length; i++) {
        stackArray.push(new Stack());
    }
    populateStacks(stackDataArray, stackArray);
    console.log(stackArray);
    return stackArray;
}

function partOne(input: string): void {
    const [stackData, moveData] = input.split("\n\n");
    const stackArray = stackFactory(stackData);
}

partOne(input);
